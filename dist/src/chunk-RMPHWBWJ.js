import { createId } from '@paralleldrive/cuid2';
import { relations, sql } from 'drizzle-orm';
import { pgTableCreator, pgEnum, text, varchar, timestamp, index, integer, boolean, date, time, unique } from 'drizzle-orm/pg-core';

var F=Object.defineProperty;var z=(e,o)=>{for(var S in o)F(e,S,{get:o[S],enumerable:!0});};var L={};z(L,{assignmentSubmissions:()=>h,assignmentSubmissionsRelations:()=>B,assignmentTypeEnum:()=>R,assignments:()=>f,campusEnum:()=>P,characters:()=>v,createTable:()=>i,eventAssignments:()=>y,eventAssignmentsRelations:()=>k,eventDayEnum:()=>M,eventPresences:()=>g,eventPresencesRelations:()=>Y,events:()=>a,eventsCharacterRelations:()=>G,eventsRelations:()=>J,facultyEnum:()=>E,genderEnum:()=>D,lembagaEnum:()=>_,messages:()=>c,messagesRelations:()=>H,presenceEventEnum:()=>b,presenceTypeEnum:()=>$,profiles:()=>x,profilesRelations:()=>O,roleEnum:()=>U,userMatches:()=>l,userMatchesRelations:()=>V,users:()=>n,usersRelations:()=>q});var i=pgTableCreator(e=>`${e}`),E=pgEnum("faculty",["FITB","FMIPA","FSRD","FTMD","FTTM","FTSL","FTI","SAPPK","SBM","SF","SITH","STEI"]),_=pgEnum("lembaga",["HMJ","Unit"]),U=pgEnum("role",["Peserta","Mentor","Mamet"]),D=pgEnum("gender",["male","female"]),P=pgEnum("campus",["Ganesha","Jatinangor","Cirebon"]),R=pgEnum("assignmentType",["Daily","Side"]),$=pgEnum("presenceType",["Hadir","Izin/Sakit","Alpha"]),M=pgEnum("day",["Day 1","Day 2","Day 3","Day 4"]),b=pgEnum("presenceEvent",["Opening","Closing"]),n=i("users",{id:text("id").primaryKey().$defaultFn(createId),nim:varchar("nim",{length:100}).unique().notNull(),role:U("role").notNull(),password:varchar("password",{length:255}).notNull(),createdAt:timestamp("createdAt",{mode:"date",withTimezone:!0}).notNull().defaultNow(),updatedAt:timestamp("updatedAt",{mode:"date",withTimezone:!0}).notNull()},e=>({idIdx:index().on(e.id),nimIdx:index().on(e.nim)})),q=relations(n,({many:e,one:o})=>({profile:o(x),userMatchesAsFirstUser:e(l,{relationName:"firstUser"}),userMatchesAsSecondUser:e(l,{relationName:"secondUser"}),messages:e(c,{relationName:"sender"}),messagesAsReceiver:e(c,{relationName:"receiver"})})),x=i("profiles",{name:varchar("name",{length:255}).notNull(),userId:text("userId").notNull().references(()=>n.id,{onDelete:"cascade"}),faculty:E("faculty").notNull(),gender:D("gender").notNull(),campus:P("campus").notNull(),updatedAt:timestamp("updatedAt",{mode:"date",withTimezone:!0}).notNull(),profileImage:text("profileImage"),groupNumber:integer("groupNumber").notNull(),point:integer("point")},e=>({userIdIdx:index().on(e.userId),pointIdx:index().on(e.point)})),O=relations(x,({one:e})=>({users:e(n,{fields:[x.userId],references:[n.id]})})),l=i("userMatches",{id:text("id").primaryKey().$defaultFn(createId),firstUserId:text("firstUserId").notNull().references(()=>n.id,{onDelete:"cascade"}),secondUserId:text("secondUserId").notNull().references(()=>n.id,{onDelete:"cascade"}),topic:varchar("topic",{length:50}).notNull(),isRevealed:boolean("isRevealed").notNull().default(sql`false`),isAnonymous:boolean("isAnonymous").notNull().default(sql`false`),createdAt:timestamp("createdAt",{mode:"date",withTimezone:!0}).notNull().defaultNow(),endedAt:timestamp("endedAt",{mode:"date",withTimezone:!0}).default(sql`null`).$type()}),V=relations(l,({many:e,one:o})=>({firstUser:o(n,{fields:[l.firstUserId],references:[n.id],relationName:"firstUser"}),secondUser:o(n,{fields:[l.secondUserId],references:[n.id],relationName:"secondUser"}),messages:e(c)})),c=i("messages",{id:text("id").primaryKey().$defaultFn(createId),senderId:text("senderId").notNull().references(()=>n.id),receiverId:text("receiverId").notNull().references(()=>n.id),content:text("content").notNull(),isRead:boolean("isRead").notNull().default(sql`false`),createdAt:timestamp("createdAt",{mode:"date",withTimezone:!0}).notNull().defaultNow(),userMatchId:text("userMatchId").notNull().references(()=>l.id,{onDelete:"cascade"})}),H=relations(c,({many:e,one:o})=>({senderId:o(n,{fields:[c.senderId],references:[n.id],relationName:"sender"}),receiverId:o(n,{fields:[c.receiverId],references:[n.id],relationName:"receiver"}),userMatch:o(l,{fields:[c.userMatchId],references:[l.id]})})),f=i("assignments",{id:text("id").primaryKey().$defaultFn(createId),title:varchar("title",{length:255}).notNull(),description:text("description").notNull(),startTime:timestamp("startTime",{mode:"date",withTimezone:!0}),deadline:timestamp("deadline",{mode:"date",withTimezone:!0}).notNull(),files:varchar("files",{length:255}).array().default(sql`ARRAY[]::varchar[]`),assignmentType:R("assignmentType").notNull(),point:integer("point"),createdAt:timestamp("createdAt",{mode:"date",withTimezone:!0}).notNull().defaultNow(),updatedAt:timestamp("updatedAt",{mode:"date",withTimezone:!0}).notNull()}),h=i("assignmentSubmissions",{id:text("id").primaryKey().$defaultFn(createId),assignmentId:text("assignmentId").notNull().references(()=>f.id,{onDelete:"cascade"}),userNim:varchar("userNim",{length:100}).notNull().references(()=>n.nim,{onDelete:"cascade",onUpdate:"cascade"}),files:varchar("files",{length:255}).array().default(sql`ARRAY[]::varchar[]`),createdAt:timestamp("createdAt",{mode:"date",withTimezone:!0}).notNull(),updatedAt:timestamp("updatedAt",{mode:"date",withTimezone:!0}).notNull()},e=>({userIdIdx:index("submission_userId_idx").on(e.userNim)})),B=relations(h,({one:e})=>({assignment:e(f,{fields:[h.assignmentId],references:[f.id]}),user:e(n,{fields:[h.userNim],references:[n.nim]})})),v=i("characters",{name:varchar("name",{length:255}).notNull().primaryKey(),characterImage:varchar("characterImage",{length:255}).notNull()}),a=i("events",{id:text("id").primaryKey().$defaultFn(createId),day:M("day").notNull(),eventDate:date("eventDate",{mode:"date"}).notNull(),openingOpenPresenceTime:time("openingOpenPresenceTime").notNull(),openingClosePresenceTime:time("openingClosePresenceTime").notNull(),closingOpenPresenceTime:time("closingOpenPresenceTime").notNull(),closingClosePresenceTime:time("closingClosePresenceTime").notNull(),createdAt:timestamp("createdAt",{mode:"date",withTimezone:!0}).notNull().defaultNow(),updatedAt:timestamp("updatedAt",{mode:"date",withTimezone:!0}).notNull(),lore:text("lore").notNull(),characterName:varchar("characterName",{length:255}).notNull().references(()=>v.name)},e=>({uniqueDayConstraint:unique().on(e.day)})),G=relations(a,({one:e})=>({character:e(v,{fields:[a.characterName],references:[v.name]})})),J=relations(a,({many:e})=>({eventPresences:e(g),eventAssignments:e(y)})),g=i("eventPresences",{id:text("id").primaryKey().$defaultFn(createId),eventId:text("eventId").notNull().references(()=>a.id),userNim:varchar("userNim",{length:255}).notNull().references(()=>n.nim),presenceType:$("presenceType").notNull(),presenceEvent:b("presenceEvent").notNull(),createdAt:timestamp("createdAt",{mode:"date",withTimezone:!0}).notNull().defaultNow(),updatedAt:timestamp("updatedAt",{mode:"date",withTimezone:!0}).notNull(),profileImage:text("profileImage")},e=>({eventIdIdx:index("presence_eventId_idx").on(e.eventId),userIdIdx:index("presence_userId_idx").on(e.userNim),uniquePresenceConstraint:unique().on(e.eventId,e.presenceEvent,e.userNim)})),Y=relations(g,({one:e})=>({event:e(a,{fields:[g.eventId],references:[a.id]}),user:e(n,{fields:[g.userNim],references:[n.nim]})})),y=i("eventAssignments",{id:text("id").primaryKey().$defaultFn(createId),eventId:text("eventId").notNull().references(()=>a.id,{onDelete:"cascade"}),assignmentId:text("assignmentId").notNull().references(()=>f.id,{onDelete:"cascade"})}),k=relations(y,({one:e})=>({event:e(a,{fields:[y.eventId],references:[a.id]}),assignment:e(f,{fields:[y.assignmentId],references:[f.id]})}));

export { Y as A, y as B, k as C, L as D, i as a, E as b, _ as c, U as d, D as e, P as f, R as g, $ as h, M as i, b as j, n as k, q as l, x as m, O as n, l as o, V as p, c as q, H as r, f as s, h as t, B as u, v, a as w, G as x, J as y, g as z };
