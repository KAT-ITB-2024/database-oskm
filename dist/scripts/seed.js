import { k, m, s, v, w as w$1, D as D$1 } from '../chunk-KG3ZVJWE.js';
import p from 'bcrypt';
import { drizzle } from 'drizzle-orm/postgres-js';
import d from 'postgres';
import { eq } from 'drizzle-orm';

async function u(r){let t=await p.hash("password",10);for(let e=0;e<10;e++)try{await r.insert(k).values({nim:`1352100${e}`,password:t,role:"Peserta",updatedAt:new Date});}catch(s){console.error(`Error:${s}`);break}for(let e=0;e<5;e++){let s=e%2===0?"Mamet":"Mentor";try{await r.insert(k).values({nim:`1352200${e}`,password:t,role:s,updatedAt:new Date});}catch(o){console.error(`Error:${o}`);break}}}async function h(r){let t=await r.select().from(k).where(eq(k.role,"Peserta"));if(t)for(let e=0;e<t.length-1;e++){let s=t[e];if(!s)return;try{await r.insert(m).values({name:`User ${s.id}`,userId:s.id,faculty:"STEI",gender:e%2===0?"male":"female",campus:e%3===0?"Ganesha":"Jatinangor",profileImage:"",point:0,groupNumber:1});}catch(o){console.error(`Error seeding profile ${o}`);return}}}async function w(r){let t=25;for(let s$1=0;s$1<4;s$1++)await r.insert(s).values({title:`Assignment ${s$1}`,description:`Description buat assignment ke ${s$1}`,startTime:new Date(`2023-07-${t}T00:00:00Z`),deadline:new Date(Date.now()+7*24*60*60*1e3),assignmentType:"Daily",point:10,updatedAt:new Date}),t+=1;}async function D(r){for(let t=0;t<4;t++)try{await r.insert(v).values({name:`Character ${t}`,characterImage:""});}catch(e){console.error(`Error ${e}`);}}async function y(r){let t=await r.query.characters.findMany();t[0]&&(await r.insert(w$1).values({day:"Day 1",eventDate:new Date("2023-07-25T00:00:00Z"),openingOpenPresenceTime:"09:00:00",openingClosePresenceTime:"10:00:00",closingOpenPresenceTime:"17:00:00",closingClosePresenceTime:"18:00:00",updatedAt:new Date,lore:"https://google.com",characterName:t[0]?.name}),await r.insert(w$1).values({day:"Day 2",eventDate:new Date("2023-07-28T00:00:00Z"),openingOpenPresenceTime:"09:00:00",openingClosePresenceTime:"10:00:00",closingOpenPresenceTime:"17:00:00",closingClosePresenceTime:"18:00:00",updatedAt:new Date,lore:"https://google.com",characterName:t[0]?.name}));}async function P(r){let t=d("postgres://postgres:postgres@localhost:5432/coba",{max:1}),e=drizzle(t,{schema:D$1});await u(e),console.log("DOne seeding user"),await h(e),console.log("Done seeding profile"),await D(e),console.log("Done seeding character"),await y(e),console.log("Done seeding event"),await w(e),console.log("Done seeding assignment"),t.end();}P().catch(r=>{console.log(r);}).then(()=>console.log("Done seeding data!"));

export { P as seed, w as seedAssignment, D as seedCharacter, y as seedEvent, h as seedProfile, u as seedUser };
