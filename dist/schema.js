import { createId } from '@paralleldrive/cuid2';
import { relations } from 'drizzle-orm';
import { pgTableCreator, pgEnum, text, varchar, timestamp, index } from 'drizzle-orm/pg-core';

var d=pgTableCreator(e=>`${e}`),f=pgEnum("fakultas",["FITB","FMIPA","FSRD","FTMD","FTTM","FTSL","FTI","SAPPK","SBM","SF","SITH","STEI"]),c=pgEnum("role",["Peserta","Mentor","Mamet"]),y=pgEnum("gender",["male","female"]),x=pgEnum("campus",["Ganesha","Jatinangor","Cirebon"]),r=d("user",{id:text("id").primaryKey().$defaultFn(createId),nim:varchar("nim",{length:100}).unique().notNull(),role:c("role").notNull(),password:varchar("password",{length:255}).notNull(),createdAt:timestamp("createdAt",{mode:"date",withTimezone:!0}).notNull().defaultNow(),updatedAt:timestamp("updatedAt",{mode:"date",withTimezone:!0}).notNull().defaultNow()},e=>({idIdx:index().on(e.id),nimIdx:index().on(e.nim)})),a=d("profile",{id:text("id").primaryKey().$defaultFn(createId),name:varchar("name",{length:255}).notNull(),userId:text("userId").notNull().references(()=>r.id),faculty:f("faculty").notNull(),gender:y("gender").notNull(),campus:x("campus").notNull(),updatedAt:timestamp("updatedAt",{mode:"date",withTimezone:!0}).notNull().defaultNow(),profileImage:text("profileImage")},e=>({userIdIdx:index().on(e.userId)})),h=relations(r,({many:e,one:m})=>({profile:m(a)})),w=relations(a,({one:e})=>({users:e(r,{fields:[a.userId],references:[r.id]})}));

export { x as campusEnum, d as createTable, f as facultyEnum, y as genderEnum, a as profiles, w as profilesRelations, c as roleEnum, r as users, h as usersRelations };
